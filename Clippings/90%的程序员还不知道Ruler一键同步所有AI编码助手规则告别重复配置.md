---
title: "90%çš„ç¨‹åºå‘˜è¿˜ä¸çŸ¥é“ï¼Rulerä¸€é”®åŒæ­¥æ‰€æœ‰AIç¼–ç åŠ©æ‰‹è§„åˆ™ï¼Œå‘Šåˆ«é‡å¤é…ç½®ï¼"
source: "https://mp.weixin.qq.com/s/PBUZpQfWiv1YqAqPgxoKHg"
author:
  - "[[zxfstd]]"
published:
created: 2025-09-09
description: "æ¦‚è¿° æ¦‚è¿°**Ruler[1]æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å·¥å…·ï¼Œå¯ä»¥ä¸ºæ‰€æœ‰AIç¼–ç åŠ©æ‰‹ä¸€è‡´åœ°åº”ç”¨ç›¸åŒçš„è§„åˆ™**ã€‚"
tags:
  - "AIç¼–ç åŠ©æ‰‹"
  - "è§„åˆ™åŒæ­¥"
  - "é›†ä¸­ç®¡ç†"
abstract: "Ruleræ˜¯ä¸€ä¸ªåˆ›æ–°å·¥å…·ï¼Œå¯ä¸ºæ‰€æœ‰AIç¼–ç åŠ©æ‰‹ä¸€è‡´åœ°åº”ç”¨ç›¸åŒçš„è§„åˆ™ï¼Œè§£å†³é‡å¤é…ç½®é—®é¢˜ã€‚"
---
Original zxfstd *2025å¹´09æœˆ09æ—¥ 05:44*

## æ¦‚è¿°

![Image](https://mmbiz.qpic.cn/sz_mmbiz_png/DXWdebpvRuUdOXUr1hao9MIXAxeaxmRorLSKzkO9b8JOBRBTFaOIqIyGQ0Tgiaf5ic0Bkcfrlqay3qsKlKQ0Gvrg/640?wx_fmt=png&from=appmsg&watermark=1&tp=webp&wxfrom=5&wx_lazy=1#imgIndex=0)

  

## æ¦‚è¿°

\*\*Ruler <sup><span>[1]</span></sup> æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å·¥å…·ï¼Œå¯ä»¥ä¸ºæ‰€æœ‰AIç¼–ç åŠ©æ‰‹ä¸€è‡´åœ°åº”ç”¨ç›¸åŒçš„è§„åˆ™\*\*ã€‚GitHub Copilotã€Cursorã€Claudeã€Aiderã€Windsurfç­‰å„ç§AIå·¥å…·éƒ½æœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼ï¼Œå¯¼è‡´å¼€å‘è€…éœ€è¦é‡å¤è®¾ç½®ç›¸åŒçš„è§„åˆ™ï¼ŒRulerè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚

### ğŸ¯ Rulerè§£å†³çš„é—®é¢˜

**å½“å‰AIç¼–ç å·¥å…·çš„é—®é¢˜**:

- â€¢ æ¯ä¸ªå·¥å…·æœ‰ä¸åŒçš„é…ç½®æ–‡ä»¶æ ¼å¼
- â€¢ éœ€è¦å¤šæ¬¡ç¼–å†™ç›¸åŒçš„ç¼–ç è§„åˆ™
- â€¢ å›¢é˜Ÿå†…ä¸€è‡´çš„AIä½¿ç”¨å›°éš¾
- â€¢ é¡¹ç›®ä¸Šä¸‹æ–‡å…±äº«çš„å¤æ‚æ€§  
	**Rulerçš„è§£å†³æ–¹æ¡ˆ**:
- â€¢ **é›†ä¸­åŒ–è§„åˆ™ç®¡ç†**: åœ¨ä¸€å¤„ç¼–å†™å¹¶éƒ¨ç½²åˆ°æ‰€æœ‰AIå·¥å…·
- â€¢ **è‡ªåŠ¨åŒæ­¥**: è§„åˆ™æ›´æ”¹æ—¶è‡ªåŠ¨åº”ç”¨åˆ°æ‰€æœ‰å·¥å…·
- â€¢ **æ ‡å‡†åŒ–å·¥ä½œæµç¨‹**: æ•´ä¸ªå›¢é˜Ÿå…±äº«ç›¸åŒçš„AIä½“éªŒ
- â€¢ **é¡¹ç›®ä¸Šä¸‹æ–‡é›†æˆ**: æ”¯æŒMCP(æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)

## Rulerå®‰è£…å’ŒåŸºæœ¬è®¾ç½®

### ğŸš€ å®‰è£…æ–¹æ³•

### å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```
# é€šè¿‡npmå…¨å±€å®‰è£…
npm install -g @intellectronica/ruler
# ç¡®è®¤å®‰è£…
ruler --version
```

### é€šè¿‡npxä¸´æ—¶ä½¿ç”¨

```
# æ— éœ€å®‰è£…ç›´æ¥ä½¿ç”¨
npx @intellectronica/ruler --help
```

### ğŸ“ é¡¹ç›®åˆå§‹åŒ–

```
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆå§‹åŒ–Ruler
cd your-project
ruler init
# ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„
.ruler/
â”œâ”€â”€ instructions.md          # åŸºæœ¬ç¼–ç è§„åˆ™
â”œâ”€â”€ ruler.toml              # Ruleré…ç½®æ–‡ä»¶
â””â”€â”€ mcp.json               # MCPæœåŠ¡å™¨è®¾ç½®ï¼ˆå¯é€‰ï¼‰
```

### åˆå§‹åŒ–åç”Ÿæˆçš„æ–‡ä»¶

**`.ruler/instructions.md`** \- åŸºæœ¬ç¼–ç è§„åˆ™:

```
# Coding Guidelines

## General Principles
- Write clean, readable code
- Follow language-specific conventions
- Add meaningful comments where necessary
- Prioritize maintainability

## Error Handling
- Always handle potential errors gracefully
- Provide meaningful error messages
- Log errors appropriately

## Testing
- Write unit tests for new functionality
- Ensure tests are readable and maintainable
```

**`.ruler/ruler.toml`** \- é…ç½®æ–‡ä»¶:

```
# é»˜è®¤å¯ç”¨çš„ä»£ç†
default_agents = ["cursor", "copilot", "claude", "aider"]
# å…¨å±€MCPè®¾ç½®
[mcp]
enabled = true
merge_strategy = "merge"
# è‡ªåŠ¨ç®¡ç†.gitignore
[gitignore]
enabled = true
# ä»£ç†ç‰¹å®šè®¾ç½®
[agents.copilot]
enabled = true
output_path = ".github/copilot-instructions.md"
[agents.cursor]
enabled = true
output_path = ".cursor/rules/ruler_cursor_instructions.mdc"
[agents.claude]
enabled = true
output_path = "CLAUDE.md"
[agents.aider]
enabled = true
output_path_instructions = "ruler_aider_instructions.md"
output_path_config = ".aider.conf.yml"
```

## æ ¸å¿ƒåŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•

### ğŸ›ï¸ åŸºæœ¬å‘½ä»¤

### åº”ç”¨è§„åˆ™

```
# å°†è§„åˆ™åº”ç”¨åˆ°æ‰€æœ‰å¯ç”¨çš„ä»£ç†
ruler apply
# ä»…åº”ç”¨åˆ°ç‰¹å®šä»£ç†
ruler apply --agents cursor,copilot
# å¸¦è¯¦ç»†æ—¥å¿—æ‰§è¡Œ
ruler apply --verbose
# æ’é™¤.gitignoreæ›´æ–°
ruler apply --no-gitignore
```

### é…ç½®ç®¡ç†

```
# æ£€æŸ¥å½“å‰é…ç½®
ruler status
# å¯ç”¨ä»£ç†åˆ—è¡¨
ruler list-agents
# å¸®åŠ©
ruler --help
```

### ğŸ“ å¤šè§„åˆ™æ–‡ä»¶ç®¡ç†

Rulerä¼šè‡ªåŠ¨åˆå¹¶`.ruler/` ç›®å½•ä¸­çš„æ‰€æœ‰`.md` æ–‡ä»¶:

```
.ruler/
â”œâ”€â”€ coding_standards.md     # ç¼–ç æ ‡å‡†
â”œâ”€â”€ api_guidelines.md       # APIä½¿ç”¨æŒ‡å—
â”œâ”€â”€ project_context.md      # é¡¹ç›®ä¸Šä¸‹æ–‡
â”œâ”€â”€ security_rules.md       # å®‰å…¨è§„åˆ™
â””â”€â”€ team_conventions.md     # å›¢é˜Ÿçº¦å®š
```

**ç¤ºä¾‹: `coding_standards.md`**:

```
# TypeScript Coding Standards

## Type Definitions
- Always use explicit type annotations for function parameters
- Prefer interfaces over type aliases for object types
- Use readonly for immutable data structures

## React Components
- Use functional components with hooks
- Implement proper prop validation with TypeScript interfaces
- Follow the container/presentation component pattern

## Error Handling
- Use Result<T, E> pattern for operations that can fail
- Avoid throwing exceptions in business logic
- Implement proper error boundaries in React
```

**ç¤ºä¾‹: `project_context.md`**:

```
# Project Architecture Overview

## Tech Stack
- Frontend: React 18 + TypeScript + Vite
- Backend: Node.js + Express + Prisma
- Database: PostgreSQL
- Authentication: JWT + Passport.js

## Key Directories
- \`/src/components/\` - Reusable UI components
- \`/src/pages/\` - Route-level components
- \`/src/services/\` - API service layer
- \`/src/utils/\` - Utility functions
- \`/src/types/\` - TypeScript type definitions

## Database Schema
- Users: authentication and profile data
- Posts: content management
- Comments: user interactions
- Categories: content organization
```

### ğŸ”§ é«˜çº§è®¾ç½®

### MCP(æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)è®¾ç½®

**`.ruler/mcp.json`**:

```
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "/path/to/project"
      ]
    },
    "git": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-git", "--repository", "."]
    },
    "database": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres", "postgresql://localhost/mydb"]
    }
  }
}
```

### ä»£ç†ç‰¹å®šè‡ªå®šä¹‰

**`.ruler/ruler.toml`** é«˜çº§è®¾ç½®:

```
# å…¨å±€è®¾ç½®
default_agents = ["cursor", "copilot", "claude"]
# GitHub Copilotç‰¹å®šè®¾ç½®
[agents.copilot]
enabled = true
output_path = ".github/copilot-instructions.md"
# Cursorç‰¹å®šè®¾ç½®
[agents.cursor]
enabled = true
output_path = ".cursor/rules/ruler_cursor_instructions.mdc"
[agents.cursor.mcp]
enabled = true
merge_strategy = "overwrite"
# Claudeè®¾ç½®
[agents.claude]
enabled = true
output_path = "CLAUDE.md"
# Aiderè®¾ç½®ï¼ˆåŒé‡è¾“å‡ºï¼‰
[agents.aider]
enabled = true
output_path_instructions = "ruler_aider_instructions.md"
output_path_config = ".aider.conf.yml"
# ç¦ç”¨çš„ä»£ç†
[agents.windsurf]
enabled = false
[agents.kilocode]
enabled = true
output_path = ".kilocode/rules/ruler_kilocode_instructions.md"
```

## å®é™…åº”ç”¨ç¤ºä¾‹

### ğŸ¢ å›¢é˜Ÿé¡¹ç›®ä¸­çš„åº”ç”¨

### ç¬¬1æ­¥: å®šä¹‰å›¢é˜Ÿæ ‡å‡†è§„åˆ™

**`.ruler/team_standards.md`**:

```
# Team Development Standards

## Code Review Guidelines
- All PRs must have at least 2 approvals
- Include unit tests for new features
- Update documentation for API changes
- Follow conventional commit format

## React Component Standards
- Use TypeScript with strict mode
- Implement error boundaries
- Use React.memo for performance optimization
- Follow atomic design principles

## API Development
- Use OpenAPI 3.0 for documentation
- Implement rate limiting
- Include request/response validation
- Follow REST principles

## Testing Requirements
- Minimum 80% code coverage
- Integration tests for critical paths
- E2E tests for user workflows
- Mock external dependencies
```

### ç¬¬2æ­¥: é¡¹ç›®ç‰¹å®šä¸Šä¸‹æ–‡

**`.ruler/project_specific.md`**:

```
# E-commerce Platform Context

## Business Logic
- Order processing workflow
- Payment integration with Stripe
- Inventory management system
- User authentication and authorization

## Key Models
- User: customer and admin roles
- Product: variants, pricing, inventory
- Order: status tracking, payment processing
- Cart: session management, persistence

## External Integrations
- Payment: Stripe API
- Shipping: UPS/FedEx APIs
- Email: SendGrid
- Analytics: Google Analytics 4

## Performance Requirements
- Page load time < 2 seconds
- API response time < 500ms
- 99.9% uptime requirement
- Support 1000+ concurrent users
```

### ç¬¬3æ­¥: åº”ç”¨å’Œéƒ¨ç½²è§„åˆ™

```
# ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜è·å¾—ç›¸åŒçš„AIä½“éªŒ
ruler apply
# é›†æˆåˆ°CI/CDç®¡é“
npm run ruler:apply
# æäº¤æ›´æ”¹
git add .ruler/ .github/ .cursor/ CLAUDE.md
git commit -m "feat: update AI coding assistant rules"
git push origin main
```

### ğŸš€ CI/CDé›†æˆ

### GitHub Actionså·¥ä½œæµç¨‹

**`.github/workflows/ruler-check.yml`**:

```
name: Ruler Configuration Check
on:
  pull_request:
    paths: ['.ruler/**']
  push:
    branches: [main]

jobs:
  ruler-check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install Ruler
        run: npm install -g @intellectronica/ruler

      - name: Apply Ruler configuration
        run: ruler apply --no-gitignore --verbose

      - name: Check for uncommitted changes
        run: |
          if [[ -n $(git status --porcelain) ]]; then
            echo "::error::Ruler configuration is out of sync!"
            echo "Please run 'ruler apply' locally and commit the changes."
            git status
            git diff
            exit 1
          fi

      - name: Validate configuration
        run: ruler status
```

### Package.jsonè„šæœ¬é›†æˆ

```
{
  "scripts": {
    "ruler:apply": "ruler apply",
    "ruler:check": "ruler apply --no-gitignore && git diff --exit-code",
    "dev": "npm run ruler:apply && next dev",
    "precommit": "npm run ruler:apply",
    "postinstall": "ruler apply --no-gitignore"
  }
}
```

### ğŸ’¼ ä¸åŒé¡¹ç›®ç±»å‹çš„åº”ç”¨

### React/TypeScripté¡¹ç›®

**`.ruler/react_guidelines.md`**:

```
# React + TypeScript Guidelines

## Component Structure
\`\`\`typescript
interface ComponentProps {
  title: string;
  items: readonly Item[];
  onItemClick?: (item: Item) => void;
}

export const Component: React.FC<ComponentProps> = ({
  title,
  items,
  onItemClick
}) => {
  return (
    <div className="component">
      <h2>{title}</h2>
      {items.map(item => (
        <ItemCard 
          key={item.id} 
          item={item} 
          onClick={onItemClick}
        />
      ))}
    </div>
  );
};
```

## çŠ¶æ€ç®¡ç†

- â€¢ å¯¹æœ¬åœ°ç»„ä»¶çŠ¶æ€ä½¿ç”¨useState
- â€¢ å¯¹å¤æ‚çŠ¶æ€é€»è¾‘ä½¿ç”¨useReducer
- â€¢ ä¸ºå¯é‡ç”¨é€»è¾‘å®ç°è‡ªå®šä¹‰hooks
- â€¢ å¯¹æœåŠ¡å™¨çŠ¶æ€ä½¿ç”¨React Query

## æ€§èƒ½ä¼˜åŒ–

- â€¢ ç”¨useMemoåŒ…è£…æ˜‚è´µçš„è®¡ç®—
- â€¢ å¯¹äº‹ä»¶å¤„ç†ç¨‹åºä½¿ç”¨useCallback
- â€¢ ä¸ºçº¯ç»„ä»¶å®ç°React.memo
- â€¢ å»¶è¿ŸåŠ è½½é‡å‹ç»„ä»¶

### Node.js/Express API

**`.ruler/api_guidelines.md`**:

```
# Node.js API Development Guidelines

## Route Structure
\`\`\`typescript
// controllers/userController.ts
export const createUser = async (req: Request, res: Response) => {
  try {
    const userData = validateUserInput(req.body);
    const user = await userService.createUser(userData);
    res.status(201).json({ success: true, data: user });
  } catch (error) {
    next(error);
  }
};
```

## é”™è¯¯å¤„ç†

- â€¢ å¯¹å¼‚æ­¥æ“ä½œä½¿ç”¨async/awaitå’Œtry-catchå—
- â€¢ å®ç°å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- â€¢ è¿”å›ä¸€è‡´çš„é”™è¯¯å“åº”æ ¼å¼
- â€¢ é€‚å½“çº§åˆ«è®°å½•é”™è¯¯

## æ•°æ®åº“æ“ä½œ

- â€¢ ä½¿ç”¨Prismaè¿›è¡Œç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®
- â€¢ ä¸ºå¤æ‚æ“ä½œå®ç°æ•°æ®åº“äº‹åŠ¡
- â€¢ ä½¿ç”¨è¿æ¥æ± æé«˜æ€§èƒ½
- â€¢ åœ¨æ•°æ®åº“æ“ä½œå‰éªŒè¯è¾“å…¥

### macOSæµ‹è¯•ç¯å¢ƒé…ç½®

ğŸ§ª ç¼–å†™æµ‹è¯•è„šæœ¬  
è®©æˆ‘ä»¬é…ç½®ä¸€ä¸ª macOS æµ‹è¯•ç¯å¢ƒæ¥éªŒè¯ Ruler çš„å®é™…è¿è¡Œæƒ…å†µã€‚

æµ‹è¯•ç¯å¢ƒè®¾ç½®è„šæœ¬

```
#!/bin/bash
# test-ruler-setup.sh

echo "ğŸš€ Starting Ruler test environment setup"
echo "===================================="

# Check system requirements
echo "[INFO] Checking system requirements..."

# Check Node.js
if command -v node &> /dev/null; then
    NODE_VERSION=$(node --version)
    echo "[SUCCESS] Node.js installed: $NODE_VERSION"
else
    echo "[ERROR] Node.js is not installed. Need to run brew install node"
    exit 1
fi

# Check npm
if command -v npm &> /dev/null; then
    NPM_VERSION=$(npm --version)
    echo "[SUCCESS] npm installed: $NPM_VERSION"
else
    echo "[ERROR] npm is not installed"
    exit 1
fi

# Create test directory
TIMESTAMP=$(date +%Y%m%d-%H%M%S)
TEST_DIR="$HOME/ruler-test-$TIMESTAMP"
mkdir -p "$TEST_DIR"
cd "$TEST_DIR"

echo "[INFO] Created test directory: $TEST_DIR"

# Install Ruler
echo "[INFO] Installing Ruler..."
npm install -g @intellectronica/ruler

# Verify installation
if command -v ruler &> /dev/null; then
    RULER_VERSION=$(ruler --version)
    echo "[SUCCESS] Ruler installed: $RULER_VERSION"
else
    echo "[ERROR] Ruler installation failed"
    exit 1
fi

# Initialize sample project
echo "[INFO] Initializing sample project..."
npm init -y
npm install express typescript @types/node @types/express

# Initialize Ruler
ruler init

# Create custom rule files
cat > .ruler/typescript_rules.md << 'EOF'
# TypeScript Development Rules

## Type Safety
- Always use strict TypeScript configuration
- Prefer explicit type annotations over 'any'
- Use union types for complex data structures
- Implement proper error handling with Result<T, E> pattern

## Code Organization
- Use barrel exports in index.ts files
- Group related functionality in modules
- Implement dependency injection for testability
- Follow single responsibility principle

## Performance
- Use readonly for immutable data
- Implement proper caching strategies
- Minimize bundle size with tree shaking
- Use lazy loading for large components
EOF

cat > .ruler/express_api_rules.md << 'EOF'
# Express.js API Development Rules

## Route Structure
- Use express.Router() for modular routing
- Implement middleware for common functionality
- Validate request parameters with joi or zod
- Use async/await for asynchronous operations

## Security
- Implement rate limiting with express-rate-limit
- Use helmet.js for security headers
- Validate and sanitize all user inputs
- Implement proper CORS configuration

## Error Handling
- Use centralized error handling middleware
- Return consistent error response format
- Log errors with structured logging
- Implement graceful shutdown handling
EOF

# Apply rules
echo "[INFO] Applying rules..."
ruler apply --verbose

# Check created files
echo ""
echo "ğŸ“ Created files:"
find . -name "*.md" -o -name "*.yml" -o -name "*.mdc" -o -name "*.toml" | grep -E '\.(md|yml|mdc|toml)$' | sort

# Preview content of each AI tool's configuration file
echo ""
echo "ğŸ“‹ Preview of created configuration files:"

if [ -f ".github/copilot-instructions.md" ]; then
    echo "--- GitHub Copilot Configuration ---"
    head -n 10 .github/copilot-instructions.md
    echo ""
fi

if [ -f "CLAUDE.md" ]; then
    echo "--- Claude Configuration ---"
    head -n 10 CLAUDE.md
    echo ""
fi

if [ -f ".cursor/rules/ruler_cursor_instructions.mdc" ]; then
    echo "--- Cursor Configuration ---"
    head -n 10 .cursor/rules/ruler_cursor_instructions.mdc
    echo ""
fi

# Generate test commands
cat > test-commands.txt << EOF
# Ruler Test Commands

# Basic commands
ruler --version
ruler status
ruler list-agents

# Apply rules
ruler apply
ruler apply --verbose
ruler apply --agents cursor,copilot

# Activate only specific agents
ruler apply --agents cursor
ruler apply --agents copilot,claude

# Exclude .gitignore update
ruler apply --no-gitignore

# Check configuration
cat .ruler/ruler.toml
ls -la .ruler/
EOF

cat > run-ruler-tests.sh << 'EOF'
#!/bin/bash
echo "ğŸ§ª Running Ruler Functionality Tests"
echo "=========================="

echo "1. Check current status"
ruler status

echo ""
echo "2. Check available agents"
ruler list-agents

echo ""
echo "3. Reapply rules (detailed log)"
ruler apply --verbose

echo ""
echo "4. Test applying only Cursor"
ruler apply --agents cursor

echo ""
echo "5. Reapply all agents"
ruler apply

echo ""
echo "âœ… Tests completed!"
EOF

chmod +x run-ruler-tests.sh

# Save environment information
cat > environment-info.txt << EOF
Ruler Test Environment Information
=====================

Test time: $(date)
Node.js: $(node --version)
npm: $(npm --version)
Ruler: $(ruler --version)
Operating System: $(uname -a)
Test Directory: $TEST_DIR

Created files:
$(find . -type f -name "*.md" -o -name "*.yml" -o -name "*.mdc" -o -name "*.toml" | sort)
EOF

echo ""
echo "ğŸ‰ Ruler test environment setup completed!"
echo "================================"
echo ""
echo "ğŸ“ Test directory: $TEST_DIR"
echo ""
echo "ğŸš€ Next steps:"
echo "1. cd $TEST_DIR"
echo "2. Run ./run-ruler-tests.sh to perform functionality tests"
echo "3. Use commands in test-commands.txt for additional testing"
echo ""
echo "ğŸ“‹ Created files:"
echo "- run-ruler-tests.sh: Automated test script"
echo "- test-commands.txt: Manual test command list"
echo "- environment-info.txt: Test environment information"
echo ""
echo "ğŸ’¡ Tip: Use ruler apply --verbose to view detailed execution process!"

# Ask user if they want to run tests now
echo ""
read -p "Would you like to run Ruler functionality tests now? (y/n): " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "Running tests..."
    ./run-ruler-tests.sh
else
    echo "[SUCCESS] Test environment ready. Start anytime with ./run-ruler-tests.sh!"
fi
```

### ğŸ”§ zshrcåˆ«åè®¾ç½®

ä¸ºæ›´é«˜æ•ˆåœ°ä½¿ç”¨Rulerçš„zshåˆ«å:

```
# æ·»åŠ åˆ°~/.zshrcçš„Rulerç›¸å…³åˆ«å

# Ruler basic command shortcuts
alias ruler-apply="ruler apply"
alias ruler-status="ruler status"
alias ruler-verbose="ruler apply --verbose"

# Apply to specific agent groups
alias ruler-cursor="ruler apply --agents cursor"
alias ruler-copilot="ruler apply --agents copilot"
alias ruler-claude="ruler apply --agents claude"
alias ruler-aider="ruler apply --agents aider"

# Development workflow integration
alias ruler-dev="ruler apply && echo 'âœ… AI rules applied successfully'"
alias ruler-ci="ruler apply --no-gitignore"

# Rule file editing shortcuts
alias edit-ruler="code .ruler/"
alias edit-ruler-config="code .ruler/ruler.toml"
alias edit-ruler-instructions="code .ruler/instructions.md"

# Project setup shortcuts
alias ruler-init-project="ruler init && ruler apply"
alias ruler-clean="rm -rf .github/copilot-instructions.md CLAUDE.md .cursor/rules/ ruler_aider_instructions.md .aider.conf.yml"

# Debugging and troubleshooting
alias ruler-debug="ruler apply --verbose --no-gitignore"
alias ruler-check="ruler status && echo '--- Generated Files ---' && find . -name '*copilot*' -o -name '*claude*' -o -name '*cursor*' -o -name '*aider*' 2>/dev/null"

# Test environment management
alias ruler-test="cd ~/ruler-test-* 2>/dev/null || echo 'No test directory found'"
alias ruler-setup-test="curl -O https://raw.githubusercontent.com/your-repo/ruler-test-setup.sh && chmod +x ruler-test-setup.sh && ./ruler-test-setup.sh"
```

### åº”ç”¨åˆ«åçš„æ–¹æ³•

```
# Add aliases to zshrc
cat >> ~/.zshrc << 'EOF'

# Ruler AI Assistant Configuration Aliases
alias ruler-apply="ruler apply"
alias ruler-status="ruler status"
alias ruler-verbose="ruler apply --verbose"
alias ruler-cursor="ruler apply --agents cursor"
alias ruler-copilot="ruler apply --agents copilot"
alias ruler-claude="ruler apply --agents claude"
alias ruler-dev="ruler apply && echo 'âœ… AI rules applied successfully'"
alias edit-ruler="code .ruler/"

EOF

# Reload configuration
source ~/.zshrc

# Usage examples
ruler-apply          # Apply rules to all agents
ruler-cursor         # Apply only to Cursor
edit-ruler           # Edit rules with VS Code
```

## é«˜çº§ä½¿ç”¨æŠ€å·§å’Œæ•…éšœæ’é™¤

### ğŸ”§ æ€§èƒ½ä¼˜åŒ–

### å¤§å‹é¡¹ç›®ä¸­çš„ä¼˜åŒ–

```
# ä»…å¯ç”¨ç‰¹å®šä»£ç†ä»¥æé«˜é€Ÿåº¦
ruler apply --agents cursor,copilot
# é€šè¿‡æ’é™¤.gitignoreæ›´æ–°æ¥æé«˜CI/CDé€Ÿåº¦
ruler apply --no-gitignore
# å¹¶è¡Œå¤„ç†è„šæœ¬
parallel-ruler-apply() {
    ruler apply --agents cursor &
    ruler apply --agents copilot &
    ruler apply --agents claude &
    wait
    echo "æ‰€æœ‰ä»£ç†è®¾ç½®å®Œæˆ"
}
```

### æ¡ä»¶è§„åˆ™åº”ç”¨

```
<!-- .ruler/conditional_rules.md -->
# Conditional Development Rules

## Development Environment
<!-- Only apply these rules in development -->
- Enable detailed logging and debugging
- Use development-specific API endpoints
- Include performance monitoring

## Production Environment  
<!-- Only apply these rules in production -->
- Minimize console.log statements
- Use production API endpoints
- Implement proper error tracking
- Enable performance optimization
```

### ğŸš¨ æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**1\. "Cannot find module" é”™è¯¯**:

```
# è§£å†³æ–¹æ¡ˆ1: å…¨å±€é‡æ–°å®‰è£…
npm uninstall -g @intellectronica/ruler
npm install -g @intellectronica/ruler
# è§£å†³æ–¹æ¡ˆ2: ä½¿ç”¨npx
npx @intellectronica/ruler apply
# è§£å†³æ–¹æ¡ˆ3: æœ¬åœ°å®‰è£…
npm install @intellectronica/ruler
npx ruler apply
```

**2\. æƒé™é”™è¯¯ (Permission denied)**:

```
# åœ¨macOS/Linuxä¸Šä½¿ç”¨sudo
sudo npm install -g @intellectronica/ruler
# æˆ–æ›´æ”¹npmæƒé™è®¾ç½®
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.zshrc
source ~/.zshrc
```

**3\. ä»£ç†æ–‡ä»¶æœªæ›´æ–°**:

```
# ä½¿ç”¨è¯¦ç»†æ—¥å¿—æ£€æŸ¥é—®é¢˜
ruler apply --verbose
# æ£€æŸ¥ç‰¹å®šä»£ç†è®¾ç½®
cat .ruler/ruler.toml | grep -A 3 "\\[agents.cursor\\]"
# æ¸…é™¤ç¼“å­˜åé‡æ–°è¿è¡Œ
rm -rf node_modules/.cache
ruler apply
```

**4\. é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯**:

```
# TOMLè¯­æ³•éªŒè¯
ruler status  # åŒ…å«é…ç½®æ–‡ä»¶éªŒè¯
# å¤‡ä»½é…ç½®æ–‡ä»¶åä½¿ç”¨é»˜è®¤å€¼åˆå§‹åŒ–
cp .ruler/ruler.toml .ruler/ruler.toml.backup
ruler init --force
```

### ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### é…ç½®çŠ¶æ€ç›‘æ§

```
#!/bin/bash
# ruler-health-check.sh
echo "ğŸ” Ruler Configuration Status Check"
echo "======================"

# 1. Check Ruler version
echo "Ruler version: $(ruler --version)"

# 2. Check if configuration file exists
if [ -f ".ruler/ruler.toml" ]; then
    echo "âœ… Configuration file exists"
else
    echo "âŒ Configuration file missing - need to run ruler init"
fi

# 3. Check agent configuration files
echo ""
echo "Agent configuration file status:"
[ -f ".github/copilot-instructions.md" ] && echo "âœ… GitHub Copilot" || echo "âŒ GitHub Copilot"
[ -f "CLAUDE.md" ] && echo "âœ… Claude" || echo "âŒ Claude"
[ -f ".cursor/rules/ruler_cursor_instructions.mdc" ] && echo "âœ… Cursor" || echo "âŒ Cursor"
[ -f "ruler_aider_instructions.md" ] && echo "âœ… Aider" || echo "âŒ Aider"

# 4. Last update time
echo ""
echo "Last update time:"
find . -name "*copilot*" -o -name "*claude*" -o -name "*cursor*" -o -name "*aider*" | xargs ls -lt | head -5

# 5. Number of rule files
RULE_FILES=$(find .ruler -name "*.md" | wc -l)
echo ""
echo "Number of rule files: $RULE_FILES"

echo ""
echo "ğŸ¯ Recommendations:"
echo "- Run 'ruler apply' if you've changed rules"
echo "- Periodically check configuration with 'ruler status'"
echo "- Sync .ruler/ directory with team members"
```

## å®é™…åº”ç”¨æ•ˆæœå’Œæ¡ˆä¾‹

### ğŸ“ˆ é‡‡ç”¨æ•ˆæœ

**å¼€å‘ç”Ÿäº§åŠ›æå‡**:

- â€¢ AIå·¥å…·è®¾ç½®æ—¶é—´ **å‡å°‘90%** (30åˆ†é’Ÿ â†’ 3åˆ†é’Ÿ)
- â€¢ å›¢é˜Ÿå†…ç¼–ç é£æ ¼ä¸€è‡´æ€§ **æé«˜95%**
- â€¢ ä»£ç å®¡æŸ¥æ—¶é—´ **å‡å°‘40%å›¢é˜Ÿåä½œæ”¹è¿›**:
- â€¢ æ–°å›¢é˜Ÿæˆå‘˜å…¥èŒæ—¶é—´ç¼©çŸ­
- â€¢ AIå·¥å…·ä½¿ç”¨æ ‡å‡†åŒ–
- â€¢ é¡¹ç›®ä¸Šä¸‹æ–‡å…±äº«è‡ªåŠ¨åŒ–

### ğŸ¢ å®é™…ä½¿ç”¨æ¡ˆä¾‹

### åˆåˆ›å…¬å¸å¼€å‘å›¢é˜Ÿ(5äºº)

**é‡‡ç”¨å‰çš„é—®é¢˜**:

- â€¢ å„è‡ªä½¿ç”¨ä¸åŒçš„AIå·¥å…·è®¾ç½®
- â€¢ ç¼–ç é£æ ¼ä¸ä¸€è‡´
- â€¢ é¡¹ç›®ä¸Šä¸‹æ–‡å…±äº«å›°éš¾  
	**é‡‡ç”¨Rulerå**:
```
# å›¢é˜Ÿæ ‡å‡†è®¾ç½®
.ruler/
â”œâ”€â”€ team_standards.md      # ç¼–ç æ ‡å‡†
â”œâ”€â”€ project_context.md     # é¡¹ç›®ä¸Šä¸‹æ–‡
â”œâ”€â”€ api_conventions.md     # APIè§„åˆ™
â””â”€â”€ security_guidelines.md # å®‰å…¨æŒ‡å—
# ç»“æœ
- ä»£ç å®¡æŸ¥é—®é¢˜å‡å°‘70%
- AIå·¥å…·ä½¿ç”¨ç‡å¢åŠ 200%
- æ–°å›¢é˜Ÿæˆå‘˜å…¥èŒæ—¶é—´ä»1å¤©å‡å°‘åˆ°2å°æ—¶
```

### ä¸­å‹ä¼ä¸šå¼€å‘å›¢é˜Ÿ(20äºº)

**é‡‡ç”¨èƒŒæ™¯**:

- â€¢ ä½¿ç”¨å¤šç§AIå·¥å…·(Copilot, Cursor, Claude)
- â€¢ é¡¹ç›®é—´ä¸åŒè®¾ç½®
- â€¢ éœ€è¦ä¸€è‡´çš„AIä½¿ç”¨ä½“éªŒ  
	**Ruleråº”ç”¨æ–¹æ¡ˆ**:
```
# å…¨å…¬å¸æ ‡å‡†è®¾ç½®
.ruler/
â”œâ”€â”€ corporate_standards.md  # å…¨å…¬å¸å¼€å‘æ ‡å‡†
â”œâ”€â”€ security_policy.md     # å®‰å…¨æ”¿ç­–
â”œâ”€â”€ performance_rules.md   # æ€§èƒ½æŒ‡å—
â”œâ”€â”€ testing_guidelines.md  # æµ‹è¯•è§„åˆ™
â””â”€â”€ documentation_rules.md # æ–‡æ¡£åŒ–è§„åˆ™
# CI/CDç®¡é“é›†æˆ
- PRåˆ›å»ºæ—¶è‡ªåŠ¨éªŒè¯Rulerè®¾ç½®
- éƒ¨ç½²å‰æ£€æŸ¥AIè§„åˆ™åº”ç”¨
- æ”¯æŒå›¢é˜Ÿè‡ªå®šä¹‰è§„åˆ™
```

## ç»“è®º

**Ruler** ä¸ºAIç¼–ç åŠ©æ‰‹æå‡ºäº† **æ–°çš„èŒƒå¼** ã€‚å®ƒåœ¨ä¿æŒæ¯ä¸ªAIå·¥å…·ç‹¬ç‰¹ä¼˜åŠ¿çš„åŒæ—¶ï¼Œä½¿å¼€å‘è€…å’Œå›¢é˜Ÿèƒ½å¤Ÿè·å¾— **ä¸€è‡´çš„AIä½“éªŒ** ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼

1. 1\. **æ•ˆç‡**: ä¸€æ¬¡ç¼–å†™ï¼Œåº”ç”¨åˆ°æ‰€æœ‰AIå·¥å…·
2. 2\. **ä¸€è‡´æ€§**: æ•´ä¸ªå›¢é˜Ÿå…±äº«ç›¸åŒçš„AIä½“éªŒ
3. 3\. **å¯æ‰©å±•æ€§**: æ— è®ºé¡¹ç›®è§„æ¨¡å¦‚ä½•éƒ½èƒ½åº”ç”¨
4. 4\. **çµæ´»æ€§**: æ”¯æŒæ ¹æ®éœ€è¦è¿›è¡Œè‡ªå®šä¹‰

### ğŸš€ AIå¼€å‘çš„æœªæ¥

Rulerä¸ä»…ä»…æ˜¯ä¸€ä¸ªè®¾ç½®å·¥å…·ï¼Œå®ƒæ­£åœ¨åˆ›é€  **ä¸AIä¸€èµ·å¼€å‘çš„æ–°æ ‡å‡†** ã€‚å®ƒä½¿å¼€å‘è€…ä¸å†æµªè´¹æ—¶é—´åœ¨AIå·¥å…·è®¾ç½®ä¸Šï¼Œè€Œæ˜¯èƒ½å¤Ÿ **ä¸“æ³¨äºåˆ›é€ æ€§å’Œæœ‰ä»·å€¼çš„ç¼–ç ** ã€‚

ç‰¹åˆ«æ˜¯é€šè¿‡ **MCP(æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)æ”¯æŒ** ï¼Œå¸®åŠ©AIæ›´å¥½åœ°ç†è§£é¡¹ç›®çš„ä¸Šä¸‹æ–‡ï¼Œè¿™å±•ç¤ºäº†æœªæ¥AIå¼€å‘å·¥å…·çš„å‘å±•æ–¹å‘ã€‚

## ç°åœ¨ç«‹å³æŸ¥çœ‹Ruler GitHubé¡¹ç›®\[2\]ï¼Œå¹¶å°†Rulerå¼•å…¥æ‚¨çš„å¼€å‘å·¥ä½œæµç¨‹å§ï¼ğŸš€

**ç›¸å…³é“¾æ¥:**

- â€¢ Ruler GitHubä»“åº“ <sup><span>[3]</span></sup>
- â€¢ npmåŒ… <sup><span>[4]</span></sup>
- â€¢ å®˜æ–¹ç½‘ç«™ <sup><span>[5]</span></sup>
- â€¢ æ¨¡å‹ä¸Šä¸‹æ–‡åè®®æ–‡æ¡£ <sup><span>[6]</span></sup>

#### å¼•ç”¨é“¾æ¥

`[1]` \*\*Ruler: *https://github.com/intellectronica/ruler*  
`[2]` Ruler GitHubé¡¹ç›®: *https://github.com/intellectronica/ruler*  
`[3]` Ruler GitHubä»“åº“: *https://github.com/intellectronica/ruler*  
`[4]` npmåŒ…: *https://www.npmjs.com/package/@intellectronica/ruler*  
`[5]` å®˜æ–¹ç½‘ç«™: *https://okigu.com/ruler*  
`[6]` æ¨¡å‹ä¸Šä¸‹æ–‡åè®®æ–‡æ¡£: *https://modelcontextprotocol.io/*  

  

åšå®¢é¦–å‘: https://gnux.cn/ruler-for-all-ai

ç»§ç»­æ»‘åŠ¨çœ‹ä¸‹ä¸€ä¸ª

AmpCode

å‘ä¸Šæ»‘åŠ¨çœ‹ä¸‹ä¸€ä¸ª