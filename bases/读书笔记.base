name: "è¯»ä¹¦ç¬”è®°æ•°æ®åº“"
description: "ç®¡ç†é˜…è¯»ä¹¦ç±çš„è¿›åº¦ã€ç¬”è®°å’Œè¯„ä»·"

filters:
  and:
    - file.hasTag("ä¹¦ç±")
    - file.name != ""

properties:
  ä½œè€…:
    displayName: "ä½œè€…"
  è¯‘è€…:
    displayName: "è¯‘è€…"
  å‡ºç‰ˆç¤¾:
    displayName: "å‡ºç‰ˆç¤¾"
  å‡ºç‰ˆå¹´ä»½:
    displayName: "å‡ºç‰ˆå¹´ä»½"
    type: "number"
  æ€»é¡µæ•°:
    displayName: "æ€»é¡µæ•°"
    type: "number"
  å·²è¯»é¡µæ•°:
    displayName: "å·²è¯»é¡µæ•°"
    type: "number"
  å¼€å§‹æ—¥æœŸ:
    displayName: "å¼€å§‹æ—¥æœŸ"
    type: "date"
  å®Œæˆæ—¥æœŸ:
    displayName: "å®Œæˆæ—¥æœŸ"
    type: "date"
  åˆ†ç±»:
    displayName: "åˆ†ç±»"
    type: "select"
    options: ["æŠ€æœ¯", "å•†ä¸š", "å¿ƒç†å­¦", "å†å²", "æ–‡å­¦", "å“²å­¦", "ç§‘å­¦", "å…¶ä»–"]
  è¯„åˆ†:
    displayName: "è¯„åˆ† (1-5)"
    type: "number"
    min: 1
    max: 5
  é˜…è¯»çŠ¶æ€:
    displayName: "é˜…è¯»çŠ¶æ€"
    type: "select"
    options: ["æƒ³è¯»", "åœ¨è¯»", "å·²è¯»å®Œ", "æš‚åœ", "æ”¾å¼ƒ"]
  æ¨èåº¦:
    displayName: "æ¨èåº¦"
    type: "select"
    options: ["å¼ºçƒˆæ¨è", "æ¨è", "ä¸€èˆ¬", "ä¸æ¨è"]

formulas:
  é˜…è¯»è¿›åº¦: '(å·²è¯»é¡µæ•° / æ€»é¡µæ•° * 100).toFixed(1)'
  é˜…è¯»çŠ¶æ€æ˜¾ç¤º: 'if(é˜…è¯»è¿›åº¦ == 100, "âœ… å·²è¯»å®Œ", if(é˜…è¯»è¿›åº¦ > 0, "ğŸ“– é˜…è¯»ä¸­ " + é˜…è¯»è¿›åº¦ + "%", "â³ æƒ³è¯»"))'
  è¿›åº¦æ¡: '"â– ".repeat(Math.floor(é˜…è¯»è¿›åº¦/10)) + "â–¡".repeat(10-Math.floor(é˜…è¯»è¿›åº¦/10)) + " " + é˜…è¯»è¿›åº¦.toFixed(1) + "%"'
  é˜…è¯»å¤©æ•°: '(today() - å¼€å§‹æ—¥æœŸ).toFixed(0)'
  è¯„åˆ†æ˜Ÿçº§: '"â­".repeat(è¯„åˆ†) + "â˜†".repeat(5-è¯„åˆ†)'
  æ˜¯å¦é€¾æœŸ: 'é˜…è¯»çŠ¶æ€ == "åœ¨è¯»" and (today() - å¼€å§‹æ—¥æœŸ) > 30'
  å¹³å‡æ¯æ—¥é¡µæ•°: 'if(é˜…è¯»å¤©æ•° > 0, (å·²è¯»é¡µæ•° / é˜…è¯»å¤©æ•°).toFixed(1), 0)'

views:
  - type: table
    name: "é˜…è¯»æ¸…å•"
    filters:
      and:
        - 'é˜…è¯»çŠ¶æ€ != "å·²è¯»å®Œ"'
        - 'é˜…è¯»çŠ¶æ€ != "æ”¾å¼ƒ"'
    order:
      - ä¼˜å…ˆçº§
      - å¼€å§‹æ—¥æœŸ
    sort:
      - ä¼˜å…ˆçº§: "asc"
      - å¼€å§‹æ—¥æœŸ: "desc"
    columns:
      - file.name
      - ä½œè€…
      - åˆ†ç±»
      - é˜…è¯»çŠ¶æ€
      - é˜…è¯»è¿›åº¦
      - è¿›åº¦æ¡
      - å¼€å§‹æ—¥æœŸ
      - é˜…è¯»å¤©æ•°

  - type: kanban
    name: "é˜…è¯»çŠ¶æ€çœ‹æ¿"
    groupBy: é˜…è¯»çŠ¶æ€
    order:
      - è¯„åˆ†
      - å¼€å§‹æ—¥æœŸ
    sort:
      - è¯„åˆ†: "desc"
      - å¼€å§‹æ—¥æœŸ: "desc"

  - type: table
    name: "å·²è¯»å®Œä¹¦ç±"
    filters:
      and:
        - 'é˜…è¯»çŠ¶æ€ == "å·²è¯»å®Œ"'
    order:
      - å®Œæˆæ—¥æœŸ
      - è¯„åˆ†
    sort:
      - å®Œæˆæ—¥æœŸ: "desc"
      - è¯„åˆ†: "desc"
    columns:
      - file.name
      - ä½œè€…
      - åˆ†ç±»
      - æ€»é¡µæ•°
      - è¯„åˆ†
      - è¯„åˆ†æ˜Ÿçº§
      - æ¨èåº¦
      - å®Œæˆæ—¥æœŸ
      - é˜…è¯»å¤©æ•°

  - type: table
    name: "ä¹¦ç±æ¨è"
    filters:
      and:
        - 'è¯„åˆ† >= 4'
        - 'æ¨èåº¦ == "å¼ºçƒˆæ¨è" or æ¨èåº¦ == "æ¨è"'
    order:
      - è¯„åˆ†
      - æ¨èåº¦
    sort:
      - è¯„åˆ†: "desc"
      - æ¨èåº¦: "asc"
    columns:
      - file.name
      - ä½œè€…
      - åˆ†ç±»
      - è¯„åˆ†
      - è¯„åˆ†æ˜Ÿçº§
      - æ¨èåº¦
      - æ€»é¡µæ•°

  - type: calendar
    name: "é˜…è¯»æ—¥å†"
    dateProperty: å®Œæˆæ—¥æœŸ
    filters:
      and:
        - 'é˜…è¯»çŠ¶æ€ == "å·²è¯»å®Œ"'